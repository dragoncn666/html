<!DOCTYPE HTML>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
		<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
		<title>订单</title>
		<link rel="stylesheet" type="text/css" href="../css/aui.css" />
	</head>

	<body>
		<!--头部-->
		<header class="aui-bar aui-bar-nav aui-bar-light">
			<div class="aui-title">货物清单</div>
			<a class="aui-pull-right">
				<span class="aui-iconfont aui-icon-search"></span>
			</a>
		</header>
		<div style="height: 2.2rem;"></div>
		<!--头部end-->
		<!--订单列表-->
		<div class="aui-content aui-margin-b-15">
			<ul class="aui-list aui-media-list order_list">
				<li class="aui-list-header">
					2017年03月
				</li>
				<li class="aui-list-item">
					<div class="aui-media-list-item-inner">
						<div class="line-normal-wrapper" onclick="javascript:window.location.href='coupon_details.html'">
							<div class="aui-list-item-inner">
								<div class="aui-list-item-title"><span class="aui-text-danger">[未收款]</span>1004306303</div>
								<div class="more_operations"><i class="iconfont icon-unie612"></i></div>
								<div class="aui-list-item-text">
									开单时间：03-10 06:19
								</div>
								<div class="aui-list-item-text">
									<span>备注：刘沙沙的订货</span>
									<span class="prices_text">¥ 888.00</span>
								</div>
							</div>
						</div>
						<div class="operations_list">

							<div class="aui-col-xs-4" onclick="javascript:window.location.href='../index.html'">
								<i class="iconfont icon-gouwuche01"></i>
								<p>添加</p>
							</div>
							<div class="aui-col-xs-4" onclick="javascript:window.location.href='coupon_details.html'">
								<i class="iconfont icon-jiesuan"></i>
								<p>结账</p>
							</div>
							<div class="aui-col-xs-4">
								<i class="aui-iconfont aui-icon-trash"></i>
								<p>删除</p>
							</div>
						</div>
					</div>
				</li>
				<li class="aui-list-item">
					<div class="aui-media-list-item-inner">
						<div class="line-normal-wrapper" onclick="javascript:window.location.href='coupon_details.html'">
							<div class="aui-list-item-inner">
								<div class="aui-list-item-title"><span class="aui-text-danger">[未收款]</span>1004306303</div>
								<div class="more_operations"><i class="iconfont icon-unie612"></i></div>
								<div class="aui-list-item-text">
									开单时间：03-10 06:19
								</div>
								<div class="aui-list-item-text">
									<span>备注：刘沙沙的订货</span>
									<span class="prices_text">¥ 888.00</span>
								</div>
							</div>
						</div>
						<div class="operations_list">

							<div class="aui-col-xs-4" onclick="javascript:window.location.href='index.html'">
								<i class="iconfont icon-gouwuche01"></i>
								<p>添加</p>
							</div>
							<div class="aui-col-xs-4" onclick="javascript:window.location.href='coupon_details.html'">
								<i class="iconfont icon-jiesuan"></i>
								<p>结账</p>
							</div>
							<div class="aui-col-xs-4">
								<i class="aui-iconfont aui-icon-trash"></i>
								<p>删除</p>
							</div>
						</div>
					</div>
				</li>
				<li class="aui-list-item">
					<div class="aui-media-list-item-inner">
						<div class="line-normal-wrapper" onclick="javascript:window.location.href='coupon_details.html'">
							<div class="aui-list-item-inner">
								<div class="aui-list-item-title"><span class="aui-text-danger">[未收款]</span>1004306303</div>
								<div class="more_operations"><i class="iconfont icon-unie612"></i></div>
								<div class="aui-list-item-text">
									开单时间：03-10 06:19
								</div>
								<div class="aui-list-item-text">
									<span>备注：刘沙沙的订货</span>
									<span class="prices_text">¥ 888.00</span>
								</div>
							</div>
						</div>
						<div class="operations_list">

							<div class="aui-col-xs-4" onclick="javascript:window.location.href='index.html'">
								<i class="iconfont icon-gouwuche01"></i>
								<p>添加</p>
							</div>
							<div class="aui-col-xs-4" onclick="javascript:window.location.href='coupon_details.html'">
								<i class="iconfont icon-jiesuan"></i>
								<p>结账</p>
							</div>
							<div class="aui-col-xs-4">
								<i class="aui-iconfont aui-icon-trash"></i>
								<p>删除</p>
							</div>
						</div>
					</div>
				</li>
				<li class="aui-list-header">
					2017年02月
				</li>
				<li class="aui-list-item">
					<div class="aui-media-list-item-inner">
						<div class="line-normal-wrapper" onclick="javascript:window.location.href='coupon_details.html'">
							<div class="aui-list-item-inner">
								<div class="aui-list-item-title"><span class="aui-text-danger">[未收款]</span>1004306303</div>
								<div class="more_operations"><i class="iconfont icon-unie612"></i></div>
								<div class="aui-list-item-text">
									开单时间：02-10 06:19
								</div>
								<div class="aui-list-item-text">
									<span>备注：刘沙沙的订货</span>
									<span class="prices_text">¥ 888.00</span>
								</div>
							</div>
						</div>
						<div class="operations_list">

							<div class="aui-col-xs-4" onclick="javascript:window.location.href='index.html'">
								<i class="iconfont icon-gouwuche01"></i>
								<p>添加</p>
							</div>
							<div class="aui-col-xs-4" onclick="javascript:window.location.href='coupon_details.html'">
								<i class="iconfont icon-jiesuan"></i>
								<p>结账</p>
							</div>
							<div class="aui-col-xs-4">
								<i class="aui-iconfont aui-icon-trash"></i>
								<p>删除</p>
							</div>
						</div>
					</div>
				</li>
				<li class="aui-list-item">
					<div class="aui-media-list-item-inner">
						<div class="line-normal-wrapper" onclick="javascript:window.location.href='coupon_details.html'">
							<div class="aui-list-item-inner">
								<div class="aui-list-item-title"><span class="aui-text-danger">[未收款]</span>1004306303</div>
								<div class="more_operations"><i class="iconfont icon-unie612"></i></div>
								<div class="aui-list-item-text">
									开单时间：02-08 06:19
								</div>
								<div class="aui-list-item-text">
									<span>备注：刘沙沙的订货</span>
									<span class="prices_text">¥ 888.00</span>
								</div>
							</div>
						</div>
						<div class="operations_list">

							<div class="aui-col-xs-4" onclick="javascript:window.location.href='index.html'">
								<i class="iconfont icon-gouwuche01"></i>
								<p>添加</p>
							</div>
							<div class="aui-col-xs-4" onclick="javascript:window.location.href='coupon_details.html'">
								<i class="iconfont icon-jiesuan"></i>
								<p>结账</p>
							</div>
							<div class="aui-col-xs-4">
								<i class="aui-iconfont aui-icon-trash"></i>
								<p>删除</p>
							</div>
						</div>
					</div>
				</li>
				<li class="aui-list-item">
					<div class="aui-media-list-item-inner">
						<div class="line-normal-wrapper" onclick="javascript:window.location.href='coupon_details.html'">
							<div class="aui-list-item-inner">
								<div class="aui-list-item-title"><span class="aui-text-danger">[未收款]</span>1004306303</div>
								<div class="more_operations"><i class="iconfont icon-unie612"></i></div>
								<div class="aui-list-item-text">
									开单时间：02-06 06:19
								</div>
								<div class="aui-list-item-text">
									<span>备注：刘沙沙的订货</span>
									<span class="prices_text">¥ 888.00</span>
								</div>
							</div>
						</div>
						<div class="operations_list">

							<div class="aui-col-xs-4" onclick="javascript:window.location.href='index.html'">
								<i class="iconfont icon-gouwuche01"></i>
								<p>添加</p>
							</div>
							<div class="aui-col-xs-4" onclick="javascript:window.location.href='coupon_details.html'">
								<i class="iconfont icon-jiesuan"></i>
								<p>结账</p>
							</div>
							<div class="aui-col-xs-4">
								<i class="aui-iconfont aui-icon-trash"></i>
								<p>删除</p>
							</div>
						</div>
					</div>
				</li>

			</ul>
		</div>
		<!--订单列表 end-->

		<div style="height: 3rem;"></div>
		<!--底部工具栏-->
		<footer class="aui-bar aui-bar-tab aui-border-t" id="footer">
			<div class="aui-bar-tab-item" tapmode onclick="javascript:window.location.href='../index.html'">
				<i class="iconfont icon-xiaoshou1"></i>
				<div class="aui-bar-tab-label">销售</div>
			</div>
			<div class="aui-bar-tab-item aui-active" tapmode>
				<i class="iconfont icon-huodan"></i>
				<div class="aui-bar-tab-label">货单</div>
			</div>
			<div class="aui-bar-tab-item" tapmode onclick="javascript:window.location.href='order.html'">
				<i class="iconfont icon-dingdan1"></i>
				<div class="aui-bar-tab-label">订单</div>
			</div>
		</footer>
		<!--底部工具栏 end-->
	</body>
	<script type="text/javascript" src="../script/api.js"></script>
	<script type="text/javascript" src="../script/aui-tab.js"></script>
	<script type="text/javascript" src="../script/aui-collapse.js"></script>
	<script type="text/javascript" src="../script/jquery-1.4.2.min.js"></script>
	<script type="text/javascript">
		apiready = function() {
			api.parseTapmode();
		}
		var tab = new auiTab({
			element: document.getElementById("tab"),
		}, function(ret) {
			console.log(ret)
		});
		//订单折叠功能
		apiready = function() {
			api.parseTapmode();
		}
		var collapse = new auiCollapse({
			autoHide: true //是否自动隐藏已经展开的容器
		});
	</script>

	<script type="text/javascript">
		$(document).ready(function(e) {
			// 设定每一行的宽度=屏幕宽度+按钮宽度
			$(".aui-media-list-item-inner").width($(".aui-list-item").width() + $(".operations_list").width() + 70);
			// 设定常规信息区域宽度=屏幕宽度

			$(".line-normal-wrapper").width($(".aui-list-item").width());
			// 设定文字部分宽度（为了实现文字过长时在末尾显示...）
			$(".line-normal-msg").width($(".line-normal-wrapper").width() - 280);

			// 获取所有行，对每一行设置监听
			var lines = $(".line-normal-wrapper");
			var len = lines.length;
			var lastX, lastXForMobile;

			// 用于记录被按下的对象
			var pressedObj; // 当前左滑的对象
			var lastLeftObj; // 上一个左滑的对象

			// 用于记录按下的点
			var start;

			// 网页在移动端运行时的监听
			for(var i = 0; i < len; ++i) {
				lines[i].addEventListener('touchstart', function(e) {
					lastXForMobile = e.changedTouches[0].pageX;
					pressedObj = this; // 记录被按下的对象 

					// 记录开始按下时的点
					var touches = event.touches[0];
					start = {
						x: touches.pageX, // 横坐标
						y: touches.pageY // 纵坐标
					};
				});

				lines[i].addEventListener('touchmove', function(e) {
					// 计算划动过程中x和y的变化量
					var touches = event.touches[0];
					delta = {
						x: touches.pageX - start.x,
						y: touches.pageY - start.y
					};

					// 横向位移大于纵向位移，阻止纵向滚动
					if(Math.abs(delta.x) > Math.abs(delta.y)) {
						event.preventDefault();
					}
				});

				lines[i].addEventListener('touchend', function(e) {
					if(lastLeftObj && pressedObj != lastLeftObj) { // 点击除当前左滑对象之外的任意其他位置
						$(lastLeftObj).animate({
							marginLeft: "0"
						}, 500); // 右滑
						lastLeftObj = null; // 清空上一个左滑的对象
					}
					var diffX = e.changedTouches[0].pageX - lastXForMobile;
					if(diffX < -220) {
						$(pressedObj).animate({
							marginLeft: "-210px"
						}, 500); // 左滑
						lastLeftObj && lastLeftObj != pressedObj &&
							$(lastLeftObj).animate({
								marginLeft: "0"
							}, 500); // 已经左滑状态的按钮右滑
						lastLeftObj = pressedObj; // 记录上一个左滑的对象
					} else if(diffX > 220) {
						if(pressedObj == lastLeftObj) {
							$(pressedObj).animate({
								marginLeft: "0"
							}, 500); // 右滑
							lastLeftObj = null; // 清空上一个左滑的对象
						}
					}

				});
			}

			// 网页在PC浏览器中运行时的监听
			for(var i = 0; i < len; ++i) {
				$(lines[i]).bind('mousedown', function(e) {
					lastX = e.clientX;
					pressedObj = this; // 记录被按下的对象
				});

				$(lines[i]).bind('mouseup', function(e) {
					if(lastLeftObj && pressedObj != lastLeftObj) { // 点击除当前左滑对象之外的任意其他位置
						$(lastLeftObj).animate({
							marginLeft: "0"
						}, 500); // 右滑
						lastLeftObj = null; // 清空上一个左滑的对象
					}
					var diffX = e.clientX - lastX;
					if(diffX < -220) {
						$(pressedObj).animate({
							marginLeft: "-210px"
						}, 500); // 左滑
						lastLeftObj && lastLeftObj != pressedObj &&
							$(lastLeftObj).animate({
								marginLeft: "0"
							}, 500); // 已经左滑状态的按钮右滑
						lastLeftObj = pressedObj; // 记录上一个左滑的对象
					} else if(diffX > 220) {
						if(pressedObj == lastLeftObj) {
							$(pressedObj).animate({
								marginLeft: "0"
							}, 500); // 右滑
							lastLeftObj = null; // 清空上一个左滑的对象
						}
					}
				});
			}
		});
	</script>

</html>